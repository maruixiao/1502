<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>向前</title>
</head>
<body>
	<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <title></title>
    <style>
        *{
            margin: 0;
            padding: 0;
        }
        #odiv{
            width: 100px;
            height: 100px;
            position: absolute;
            top: 50px;
            left: 0;
            background-color: tomato;
        }
    </style>
</head>
<body>
<input type="button" value="向前走" id="btn"/>
<!--<input type="button" value="向下走" id="btn2"/>-->
<input type="button" value="向后走" id="btn3"/>
<input type="button" value="向上走" id="btn4"/>
<input type="button" value="向下走" id="btn5"/>
<div id="odiv"></div>
  
<script>
    var btn=document.getElementById('btn');
    var odiv=document.getElementById('odiv');
//    var btn2=document.getElementById('btn2');
    var btn3=document.getElementById('btn3');
    var btn4=document.getElementById('btn4');
    var btn5=document.getElementById('btn5');
    var timer=null;

    btn.onclick=function(){
       domove(odiv,10,500,'left');
    };


    btn3.onclick=function(){
         domove(odiv,-10,0,'left');
    };


    btn4.onclick=function(){
        domove(odiv,-10,50,'top');
    };


    btn5.onclick=function(){
        domove(odiv,10,500,'top');
    };


    function domove(obj,dir,itarget,attr){

        clearInterval(timer);
        timer=setInterval(function(){

            var speed=parseInt(getByClass(odiv,attr))+dir;


            if(speed<=itarget && dir<0){
                speed=itarget;
            }
            if(speed>=itarget && dir>0){
                speed=itarget;
            }
            odiv.style.left=speed+'px';


            if(speed==itarget){
                clearInterval(timer);
            }
        },30);

    }

    function getByClass(obj,attr){
        if(obj.currentStyle){
            return obj.currentStyle[attr];
        }else{
            return getComputedStyle(obj)[attr];
        }
    }


</script>
</body>
</body>
</html>